<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.pj2.shoecream.mapper.JungProductMapper">

	<select id="selectJungProductChat" resultType="JungProductVO">
		SELECT mem_idx,product_title,product_payment,product_price,product_sell_status,product_location
		FROM jung_product jp 
		WHERE
			product_idx = #{product_idx}
			AND product_selector = 0
			;
	</select>
	
	<select id="selectJungProductList" resultType="JungProductVO">
		SELECT *
		FROM 
			jung_product
		
			<if test='jproduct.lc_code != null'>
				<if test='jproduct.lc_code != 0'>
				WHERE
					lc_code = #{jproduct.lc_code}
					<if test='jproduct.mc_code != null'>
						<if test='jproduct.mc_code != 0'>
							AND
							mc_code = #{jproduct.mc_code}
						</if>
					</if>
				</if>
			</if>
 		ORDER BY product_date desc
		LIMIT #{startCount}, #{setPageListLimit}
			
			;
	</select>

	<select id="selectJungProduct" parameterType="JungProductVO" resultType="JungProductVO">
		SELECT *
		FROM 
			jung_product
		WHERE
			product_idx = #{product_idx}
			;
	</select>
	<select id="selectJungProductCount" parameterType="JungProductVO">
		SELECT count(product_idx)
		FROM 
			jung_product
		
			<if test='lc_code != null'>
				<if test='lc_code != 0'>
				WHERE
					lc_code = #{lc_code}
					<if test='mc_code != null'>
						<if test='mc_code != 0'>
							AND
							mc_code = #{mc_code}
						</if>
					</if>
				</if>
			</if>
			;
	</select>

</mapper>